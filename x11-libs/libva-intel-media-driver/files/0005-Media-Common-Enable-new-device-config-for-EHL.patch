From 2084a7cbb267d24696f0185c304f2a2083141155 Mon Sep 17 00:00:00 2001
From: Dai_Haichun <haichun.dai@intel.com>
Date: Mon, 27 Jul 2020 20:28:16 +0800
Subject: [PATCH] [Media Common] Enable new device config for EHL

Enable new device config for EHL 0x4555/0x4e55

Change-Id: I33be8731a77b8494a9092b5e7194d6487c76b9f7
---
 media_driver/linux/gen11/ddi/media_sysinfo_g11.cpp | 25 ++++++++++++++++++++++
 1 file changed, 25 insertions(+)

diff --git a/media_driver/linux/gen11/ddi/media_sysinfo_g11.cpp b/media_driver/linux/gen11/ddi/media_sysinfo_g11.cpp
index 41d35a9e283e..a649c54c8354 100644
--- a/media_driver/linux/gen11/ddi/media_sysinfo_g11.cpp
+++ b/media_driver/linux/gen11/ddi/media_sysinfo_g11.cpp
@@ -338,6 +338,25 @@ static struct GfxDeviceInfo ehlDevInfo = {
     .InitShadowSku    = InitEhlShadowSku,
     .InitShadowWa     = InitEhlShadowWa,
 };
+static struct GfxDeviceInfo ehlDevInfo16EU = {
+    .platformType  = PLATFORM_MOBILE,
+    .productFamily = IGFX_ELKHARTLAKE,
+    .displayFamily = IGFX_GEN11_CORE,
+    .renderFamily  = IGFX_GEN11_CORE,
+    .eGTType       = GTTYPE_GT1,
+    .L3CacheSizeInKb = 1280,
+    .L3BankCount   = 4,
+    .EUCount       = 16,
+    .SliceCount    = 1,
+    .SubSliceCount = 2,
+    .MaxEuPerSubSlice = 8,
+    .isLCIA        = 0,
+    .hasLLC        = 1,
+    .hasERAM       = 0,
+    .InitMediaSysInfo = InitEhlMediaSysInfo,
+    .InitShadowSku    = InitEhlShadowSku,
+    .InitShadowWa     = InitEhlShadowWa,
+};
 
 static bool icllpDeviceff05 = DeviceInfoFactory<GfxDeviceInfo>::
     RegisterDevice(0xff05, &icllpGt1Info);
@@ -404,3 +423,9 @@ static bool ehlDevice4E61 = DeviceInfoFactory<GfxDeviceInfo>::
 
 static bool ehlDevice4E71 = DeviceInfoFactory<GfxDeviceInfo>::
     RegisterDevice(0x4E71, &ehlDevInfo);
+
+static bool ehlDevice4E55 = DeviceInfoFactory<GfxDeviceInfo>::
+    RegisterDevice(0x4E55, &ehlDevInfo16EU);
+
+static bool ehlDevice4555 = DeviceInfoFactory<GfxDeviceInfo>::
+    RegisterDevice(0x4555, &ehlDevInfo16EU);
\ No newline at end of file
-- 
2.7.4

