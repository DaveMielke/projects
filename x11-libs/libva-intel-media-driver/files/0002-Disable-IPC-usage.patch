From 4fbc89a4b5775a3f300883077d8c41a45b50ad78 Mon Sep 17 00:00:00 2001
From: Yu Kang Ku <yu.kang.ku@intel.com>
Date: Fri, 18 Oct 2019 15:02:42 -0700
Subject: [PATCH 2/5] Disable IPC usage

This allows iHD to be used within the Chrome OS sandbox.

Change-Id: I7c9d438ab7072bbeb35b295a624b71e310ade6f7
Signed-off-by: Yu Kang Ku <yu.kang.ku@intel.com>
---
 media_driver/linux/common/os/mos_context_specific.cpp | 2 ++
 media_driver/linux/common/os/mos_os_specific.c        | 2 ++
 2 files changed, 4 insertions(+)

diff --git a/media_driver/linux/common/os/mos_context_specific.cpp b/media_driver/linux/common/os/mos_context_specific.cpp
index 97769e08..4817e76a 100644
--- a/media_driver/linux/common/os/mos_context_specific.cpp
+++ b/media_driver/linux/common/os/mos_context_specific.cpp
@@ -32,6 +32,8 @@
 #include "hwinfo_linux.h"
 #include <stdlib.h>
 
+#define ANDROID 1
+
 #ifndef ANDROID
 #include <sys/ipc.h>
 #include <sys/shm.h>
diff --git a/media_driver/linux/common/os/mos_os_specific.c b/media_driver/linux/common/os/mos_os_specific.c
index 2f837a03..33bcb44d 100644
--- a/media_driver/linux/common/os/mos_os_specific.c
+++ b/media_driver/linux/common/os/mos_os_specific.c
@@ -50,6 +50,8 @@
 #endif // MOS_MEDIASOLO_SUPPORTED
 #include "mos_solo_generic.h"
 
+#define ANDROID 1
+
 #ifndef ANDROID
 #include <sys/ipc.h>
 #include <sys/shm.h>
-- 
2.26.2

