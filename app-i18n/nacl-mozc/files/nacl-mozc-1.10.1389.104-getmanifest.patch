diff -urN nacl-mozc-1.10.1389.104_org/nacl_mozc.js nacl-mozc-1.10.1389.104/nacl_mozc.js
--- nacl-mozc-1.10.1389.104_org/nacl_mozc.js	2013-10-30 13:18:04.183641000 +0900
+++ nacl-mozc-1.10.1389.104/nacl_mozc.js	2013-10-30 13:22:36.676907000 +0900
@@ -939,9 +939,9 @@
 mozc.NaclMozc.prototype.onActivate_ = function(engineID) {
   this.engine_id_ = engineID;
   // Sets keyboardLayout_.
-  var appDetails = chrome.app.getDetails();
-  if (appDetails) {
-    var input_components = chrome.app.getDetails()['input_components'];
+  var getManifest = chrome.runtime.getManifest;
+  if (getManifest) {
+    var input_components = getManifest()['input_components'];
     for (var i = 0; i < input_components.length; ++i) {
       if (input_components[i].id == engineID) {
         this.keyboardLayout_ = input_components[i]['layouts'][0];
