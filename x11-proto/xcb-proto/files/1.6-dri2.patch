diff -uNr xcb-proto-1.6.old/src/dri2.xml xcb-proto-1.6/src/dri2.xml
--- xcb-proto-1.6.old/src/dri2.xml	2012-06-05 15:24:49.533907857 -0700
+++ xcb-proto-1.6/src/dri2.xml	2012-06-05 15:26:43.266054765 -0700
@@ -28,7 +28,7 @@
 -->
 
 <xcb header="dri2" extension-xname="DRI2" extension-name="DRI2"
-  major-version="1" minor-version="1">
+  major-version="1" minor-version="3">
   <import>xproto</import>
 
   <enum name="Attachment">
@@ -42,10 +42,18 @@
     <item name="BufferFakeFrontLeft" />
     <item name="BufferFakeFrontRight" />
     <item name="BufferDepthStencil" />
+    <item name="BufferHiz" />
   </enum>
 
   <enum name="DriverType">
     <item name="DRI" />
+    <item name="VDPAU" />
+  </enum>
+
+  <enum name="EventType">
+    <item name="ExchangeComplete"><value>1</value></item>
+    <item name="BlitComplete">    <value>2</value></item>
+    <item name="FlipComplete">    <value>3</value></item>
   </enum>
 
   <!-- Types -->
@@ -85,6 +93,20 @@
       <list type="char" name="driver_name">
         <fieldref>driver_name_length</fieldref>
       </list>
+      <list type="void" name="alignment_pad">
+        <op op="-">
+          <op op="&amp;">
+            <op op="+">
+              <fieldref>driver_name_length</fieldref>
+              <value> 3 </value>
+            </op>
+            <unop op="~">
+              <value>3</value>
+            </unop>
+          </op>
+          <fieldref>driver_name_length</fieldref>
+        </op>
+      </list>
       <list type="char" name="device_name">
         <fieldref>device_name_length</fieldref>
       </list>
@@ -149,4 +171,94 @@
       </list>
     </reply>
   </request>
+
+  <!-- Version 1.2 -->
+
+  <request name="SwapBuffers" opcode="8">
+    <field type="DRAWABLE" name="drawable" />
+    <field type="CARD32" name="target_msc_hi" />
+    <field type="CARD32" name="target_msc_lo" />
+    <field type="CARD32" name="divisor_hi" />
+    <field type="CARD32" name="divisor_lo" />
+    <field type="CARD32" name="remainder_hi" />
+    <field type="CARD32" name="remainder_lo" />
+    <reply>
+      <pad bytes="1" />
+      <field type="CARD32" name="swap_hi" />
+      <field type="CARD32" name="swap_lo" />
+    </reply>
+  </request>
+
+  <request name="GetMSC" opcode="9">
+    <field type="DRAWABLE" name="drawable" />
+    <reply>
+      <pad bytes="1" />
+      <field type="CARD32" name="ust_hi" />
+      <field type="CARD32" name="ust_lo" />
+      <field type="CARD32" name="msc_hi" />
+      <field type="CARD32" name="msc_lo" />
+      <field type="CARD32" name="sbc_hi" />
+      <field type="CARD32" name="sbc_lo" />
+    </reply>
+  </request>
+
+  <request name="WaitMSC" opcode="10">
+    <field type="DRAWABLE" name="drawable" />
+    <field type="CARD32" name="target_msc_hi" />
+    <field type="CARD32" name="target_msc_lo" />
+    <field type="CARD32" name="divisor_hi" />
+    <field type="CARD32" name="divisor_lo" />
+    <field type="CARD32" name="remainder_hi" />
+    <field type="CARD32" name="remainder_lo" />
+    <reply>
+      <pad bytes="1" />
+      <field type="CARD32" name="ust_hi" />
+      <field type="CARD32" name="ust_lo" />
+      <field type="CARD32" name="msc_hi" />
+      <field type="CARD32" name="msc_lo" />
+      <field type="CARD32" name="sbc_hi" />
+      <field type="CARD32" name="sbc_lo" />
+    </reply>
+  </request>
+
+  <request name="WaitSBC" opcode="11">
+    <field type="DRAWABLE" name="drawable" />
+    <field type="CARD32" name="target_sbc_hi" />
+    <field type="CARD32" name="target_sbc_lo" />
+    <reply>
+      <pad bytes="1" />
+      <field type="CARD32" name="ust_hi" />
+      <field type="CARD32" name="ust_lo" />
+      <field type="CARD32" name="msc_hi" />
+      <field type="CARD32" name="msc_lo" />
+      <field type="CARD32" name="sbc_hi" />
+      <field type="CARD32" name="sbc_lo" />
+    </reply>
+  </request>
+
+  <request name="SwapInterval" opcode="12">
+    <field type="DRAWABLE" name="drawable" />
+    <field type="CARD32" name="interval" />
+  </request>
+
+  <!-- Events -->
+
+  <event name="BufferSwapComplete" number="0">
+    <pad bytes="1" />
+    <field type="CARD16" name="event_type" enum="EventType" />
+    <pad bytes="2" />
+    <field type="DRAWABLE" name="drawable" />
+    <field type="CARD32" name="ust_hi" />
+    <field type="CARD32" name="ust_lo" />
+    <field type="CARD32" name="msc_hi" />
+    <field type="CARD32" name="msc_lo" />
+    <field type="CARD32" name="sbc" />
+  </event>
+
+  <!-- Version 1.3 -->
+
+  <event name="InvalidateBuffers" number="1">
+    <pad bytes="1" />
+    <field type="DRAWABLE" name="drawable" />
+  </event>
 </xcb>
