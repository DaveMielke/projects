From 49a51241a3dcd330e749083a94fbfb12e8017dec Mon Sep 17 00:00:00 2001
From: Brendan King <Brendan.King@imgtec.com>
Date: Wed, 3 Dec 2014 09:14:43 +0000
Subject: [PATCH 14/14] GL_OES_sample_shading entry points

---
 src/mapi/glapi/gen/OES_sample_shading.xml | 17 +++++++++++++++++
 src/mapi/glapi/gen/es_EXT.xml             |  3 +++
 src/mesa/main/multisample.c               | 11 +++++++++++
 src/mesa/main/multisample.h               |  3 +++
 4 files changed, 34 insertions(+)
 create mode 100644 src/mapi/glapi/gen/OES_sample_shading.xml

diff --git a/src/mapi/glapi/gen/OES_sample_shading.xml b/src/mapi/glapi/gen/OES_sample_shading.xml
new file mode 100644
index 0000000..51a6428
--- /dev/null
+++ b/src/mapi/glapi/gen/OES_sample_shading.xml
@@ -0,0 +1,17 @@
+<?xml version="1.0"?>
+<!DOCTYPE OpenGLAPI SYSTEM "gl_API.dtd">
+
+<OpenGLAPI>
+
+<category name="GL_OES_sample_shading" number="169">
+
+   <enum name="SAMPLE_SHADING_OES"                          value="0x8C36"/>
+   <enum name="MIN_SAMPLE_SHADING_VALUE_OES"                value="0x8C37"/>
+
+   <function name="MinSampleShadingOES" es2="3.0">
+      <param name="value" type="GLfloat"/>
+   </function>
+
+</category>
+
+</OpenGLAPI>
diff --git a/src/mapi/glapi/gen/es_EXT.xml b/src/mapi/glapi/gen/es_EXT.xml
index 57d5f31..2fec763 100644
--- a/src/mapi/glapi/gen/es_EXT.xml
+++ b/src/mapi/glapi/gen/es_EXT.xml
@@ -801,6 +801,9 @@
     </function>
 </category>
 
+<!-- 169. GL_OES_sample_shading -->
+<xi:include href="OES_sample_shading.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
+
 <!-- 174. GL_OES_texture_storage_multisample_2d_array -->
 <xi:include href="OES_texture_storage_multisample_2d_array.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
 
diff --git a/src/mesa/main/multisample.c b/src/mesa/main/multisample.c
index e7783ea..b0350cd 100644
--- a/src/mesa/main/multisample.c
+++ b/src/mesa/main/multisample.c
@@ -139,6 +139,17 @@ _mesa_MinSampleShading(GLclampf value)
 }
 
 /**
+ * Called via glMinSampleShadingOES
+ */
+void GLAPIENTRY
+_mesa_MinSampleShadingOES(GLfloat value)
+{
+    GET_CURRENT_CONTEXT(ctx);
+
+    _mesa_error(ctx, GL_INVALID_OPERATION, "glMinSampleShadingOES");
+}
+
+/**
  * Helper for checking a requested sample count against the limit
  * for a particular (target, internalFormat) pair. The limit imposed,
  * and the error generated, both depend on which extensions are supported.
diff --git a/src/mesa/main/multisample.h b/src/mesa/main/multisample.h
index 7441d3e..813dc9e 100644
--- a/src/mesa/main/multisample.h
+++ b/src/mesa/main/multisample.h
@@ -47,6 +47,9 @@ _mesa_SampleMaski(GLuint index, GLbitfield mask);
 extern void GLAPIENTRY
 _mesa_MinSampleShading(GLclampf value);
 
+extern void GLAPIENTRY
+_mesa_MinSampleShadingOES(GLfloat value);
+
 extern GLenum
 _mesa_check_sample_count(struct gl_context *ctx, GLenum target,
                    GLenum internalFormat, GLsizei samples);
-- 
1.9.1

