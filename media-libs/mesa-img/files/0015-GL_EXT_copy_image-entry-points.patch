From 33d340276fb690f4746902edbb55badf2ab0ccdc Mon Sep 17 00:00:00 2001
From: Brendan King <Brendan.King@imgtec.com>
Date: Wed, 3 Dec 2014 11:41:40 +0000
Subject: [PATCH 15/15] GL_EXT_copy_image entry points

---
 src/mapi/glapi/gen/EXT_copy_image.xml | 28 ++++++++++++++++++++++++++++
 src/mapi/glapi/gen/es_EXT.xml         |  3 +++
 src/mesa/main/copyimage.c             | 12 ++++++++++++
 src/mesa/main/copyimage.h             |  7 +++++++
 4 files changed, 50 insertions(+)
 create mode 100644 src/mapi/glapi/gen/EXT_copy_image.xml

diff --git a/src/mapi/glapi/gen/EXT_copy_image.xml b/src/mapi/glapi/gen/EXT_copy_image.xml
new file mode 100644
index 0000000..e8060c0
--- /dev/null
+++ b/src/mapi/glapi/gen/EXT_copy_image.xml
@@ -0,0 +1,28 @@
+<?xml version="1.0"?>
+<!DOCTYPE OpenGLAPI SYSTEM "gl_API.dtd">
+
+<OpenGLAPI>
+
+<category name="GL_EXT_copy_image" number="175">
+
+    <function name="CopyImageSubDataEXT" es2="3.0">
+        <param name="srcName" type="GLuint"/>
+        <param name="srcTarget" type="GLenum"/>
+        <param name="srcLevel" type="GLint"/>
+        <param name="srcX" type="GLint"/>
+        <param name="srcY" type="GLint"/>
+        <param name="srcZ" type="GLint"/>
+        <param name="dstName" type="GLuint"/>
+        <param name="dstTarget" type="GLenum"/>
+        <param name="dstLevel" type="GLint"/>
+        <param name="dstX" type="GLint"/>
+        <param name="dstY" type="GLint"/>
+        <param name="dstZ" type="GLint"/>
+        <param name="srcWidth" type="GLsizei"/>
+        <param name="srcHeight" type="GLsizei"/>
+        <param name="srcDepth" type="GLsizei"/>
+    </function>
+
+</category>
+
+</OpenGLAPI>
diff --git a/src/mapi/glapi/gen/es_EXT.xml b/src/mapi/glapi/gen/es_EXT.xml
index 2fec763..a831377 100644
--- a/src/mapi/glapi/gen/es_EXT.xml
+++ b/src/mapi/glapi/gen/es_EXT.xml
@@ -810,6 +810,9 @@
 <!-- 168. GL_KHR_blend_equation_advanced -->
 <xi:include href="KHR_blend_equation_advanced.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
 
+<!-- 175. GL_EXT_copy_image -->
+<xi:include href="EXT_copy_image.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
+
 <!-- 183. GL_EXT_texture_buffer -->
 <xi:include href="EXT_texture_buffer.xml" xmlns:xi="http://www.w3.org/2001/XInclude"/>
 
diff --git a/src/mesa/main/copyimage.c b/src/mesa/main/copyimage.c
index 05bc50d..940e1ff 100644
--- a/src/mesa/main/copyimage.c
+++ b/src/mesa/main/copyimage.c
@@ -492,3 +492,15 @@ _mesa_CopyImageSubData(GLuint srcName, GLenum srcTarget, GLint srcLevel,
 cleanup:
    _mesa_DeleteTextures(2, tmpTexNames);
 }
+
+void GLAPIENTRY
+_mesa_CopyImageSubDataEXT(GLuint srcName, GLenum srcTarget, GLint srcLevel,
+                       GLint srcX, GLint srcY, GLint srcZ,
+                       GLuint dstName, GLenum dstTarget, GLint dstLevel,
+                       GLint dstX, GLint dstY, GLint dstZ,
+                       GLsizei srcWidth, GLsizei srcHeight, GLsizei srcDepth)
+{
+    GET_CURRENT_CONTEXT(ctx);
+
+    _mesa_error(ctx, GL_INVALID_OPERATION, "glCopyImageSubDataEXT");
+}
diff --git a/src/mesa/main/copyimage.h b/src/mesa/main/copyimage.h
index 40e95b6..f71f2ca 100644
--- a/src/mesa/main/copyimage.h
+++ b/src/mesa/main/copyimage.h
@@ -42,6 +42,13 @@ _mesa_CopyImageSubData(GLuint srcName, GLenum srcTarget, GLint srcLevel,
                        GLint destX, GLint destY, GLint destZ,
                        GLsizei srcWidth, GLsizei srcHeight, GLsizei srcDepth);
 
+extern void GLAPIENTRY
+_mesa_CopyImageSubDataEXT(GLuint srcName, GLenum srcTarget, GLint srcLevel,
+                       GLint srcX, GLint srcY, GLint srcZ,
+                       GLuint destName, GLenum destTarget, GLint destLevel,
+                       GLint destX, GLint destY, GLint destZ,
+                       GLsizei srcWidth, GLsizei srcHeight, GLsizei srcDepth);
+
 #ifdef __cplusplus
 }
 #endif
-- 
1.9.1

